---
import { getEntry, render } from "astro:content";
import Page from "@layouts/Page.astro";

const { id } = Astro.params;
if (id == undefined) return Astro.redirect("/404");
const post = await getEntry("blog", id);
if (post == undefined) return Astro.redirect("/404");

const { Content } = await render(post);
const path = "~/blog/" + post.slug.toLowerCase().replaceAll(" ", "-") + ".txt";
---
<Page title={post.data.title} path={path}>
    <Fragment slot="metadata">
        <meta property="og:site_name" content="mudkip" />
        <meta property="og:description" content={post.data.description} />
    </Fragment>

    <Content />
</Page>